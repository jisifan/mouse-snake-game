# 🤖 人机对战贪吃蛇游戏

一个基于Pygame开发的智能人机对战贪吃蛇游戏，采用先进AI算法和轨迹跟随技术，提供极具挑战性的游戏体验。

## ✨ 游戏特色

### 🎯 人工智能对战模式
- **玩家(绿蛇)**：鼠标控制，精确跟随鼠标位置移动
- **AI对手(蓝蛇)**：先进AI算法控制，自动寻路和避障
- **智能竞争**：AI会主动争夺食物并避免碰撞
- **多层策略**：AI具备生存优先、觅食次要的决策层次

### 🧠 先进AI技术
- **A*寻路算法**：AI使用A*算法找到最优路径到食物
- **预测性避障**：AI能预测并避免与玩家、自己、墙壁碰撞
- **启发式决策**：当无法安全到达食物时执行安全移动策略
- **实时环境感知**：AI持续分析游戏环境并调整策略

### 🍎 智能多食物系统
- **多目标收集**：屏幕同时存在3-10个食物
- **正态分布**：食物数量智能维持在5-7个最为常见
- **竞争机制**：人类与AI争夺相同食物，先到先得
- **防聚集算法**：食物间保持最小距离避免重叠

### 🪱 双轨迹跟随系统
- **独立轨迹**：人类和AI各自拥有完整的移动历史轨迹
- **真实跟随**：蛇身完美跟随蛇头走过的每一个轨迹点
- **固定间距**：每节身体间距恒定15像素，保持规整外观
- **蛇头增长**：吃食物时从头部延长，更符合直觉

## 🚀 快速开始

### 环境要求
- Python 3.6+
- Pygame库

### 安装依赖
```bash
pip install pygame
```

### 运行游戏
```bash
python snake_game.py
```

## 🎲 游戏操作

### 人类玩家 (绿色蛇)
| 操作 | 说明 |
|------|------|
| **鼠标移动** | 控制蛇头位置和移动方向 |
| **鼠标静止** | 蛇保持静止状态 |

### AI玩家 (蓝色蛇)
| 特性 | 说明 |
|------|------|
| **自动控制** | AI完全自主控制，无需人工干预 |
| **智能寻路** | 使用A*算法找到最优路径 |
| **安全优先** | 优先避免碰撞，次要目标觅食 |
| **实时决策** | 每120ms做出一次移动决策 |

### 通用控制
| 操作 | 说明 |
|------|------|
| **R键 / 空格键** | 重新开始游戏（游戏结束时） |
| **ESC键** | 退出游戏 |

## 🏆 胜负条件

### 获胜方式
1. **对手撞墙** - 对方蛇头触碰边界时获胜
2. **对手自撞** - 对方蛇头撞到自己身体时获胜  
3. **撞击对方** - 蛇头撞到对方身体，对方获胜
4. **头部相撞** - 双方蛇头直接碰撞为平局

### 计分系统
- 每吃一个食物获得1分
- 每吃一个食物增长2节身体
- 游戏结束时显示双方最终分数

## 🔧 技术架构

### AI核心算法
- **A*寻路算法**：寻找到食物的最优路径
- **启发式评估**：使用曼哈顿距离作为启发函数
- **安全性检查**：多层碰撞检测和预测
- **决策树系统**：生存优先的策略层次

### 碰撞检测系统
- **边界检测**：防止撞墙
- **自身碰撞**：避免撞到自己身体
- **对手碰撞**：检测与对手蛇身碰撞
- **预测性避障**：提前预测危险区域

### 关键参数
```python
WINDOW_SIZE = 600        # 游戏窗口大小
CELL_SIZE = 20          # 蛇身和食物圆圈大小  
SEGMENT_DISTANCE = 15   # 蛇身节间固定距离
AI_MOVE_INTERVAL = 120  # AI移动间隔（毫秒）
食物数量范围: 3-10个     # 动态维持正态分布
游戏帧率: 10 FPS        # 流畅游戏体验
```

## 🏗️ 项目结构

```
ai-snake-battle/
├── snake_game.py    # 主游戏文件
├── snake_ai.py      # AI控制器
├── CLAUDE.md        # 开发文档  
└── README.md        # 项目说明
```

## 🧠 AI行为特征

### 智能策略
1. **路径规划**：使用A*算法找到最短安全路径
2. **风险评估**：评估每个位置的安全度
3. **优先级决策**：生存 > 觅食 > 优化位置
4. **适应性行为**：根据环境动态调整策略

### 安全机制
- **多步预测**：预测数步后的位置安全性  
- **动态避障**：实时调整路径避开障碍
- **紧急处理**：无路可走时的最优生存策略
- **边界感知**：保持与边界的安全距离

## 🎮 挑战与策略

### 对抗AI的技巧
- **速度优势**：利用鼠标的即时反应优势
- **预判AI行为**：观察AI的移动模式
- **争夺关键食物**：抢夺AI目标食物
- **利用轨迹**：通过复杂轨迹干扰AI

### AI的优势
- **计算精确**：精确的路径规划和碰撞预测
- **无情绪波动**：稳定的决策不受干扰
- **全局视野**：同时考虑所有食物和威胁
- **快速反应**：120ms的固定决策间隔

## 🚀 未来规划

- [ ] 添加不同难度等级的AI
- [ ] 实现机器学习训练系统
- [ ] 支持多个AI同时对战
- [ ] 添加AI行为分析工具
- [ ] 实现自定义AI策略

## 👥 贡献

欢迎提交Issues和Pull Requests来改进游戏AI！

## 📄 许可证

本项目采用MIT许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🙏 致谢

- 感谢Pygame社区提供优秀的游戏开发框架
- 感谢Claude Code协助开发和优化AI系统

---

**挑战智能AI，享受人机对战的刺激体验！** 🤖🎮⚔️✨